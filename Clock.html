<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clock</title>
</head>
<body onload="myWin()">
    <button id="btn" onclick="stopTime()">button</button>
    <button id="btn2" onclick="stopWin()">button2</button>
    <p id="localtime"> the local time : </p>
    <script>
        /* 计时事件
        设定执行代码的时间，而不是在函数调用之后立即执行 
        1): setInterval(() => {
            
        }, interval);
        --- clearInterval() 停止以上方法执行的函数代码
        
        2): setTimeOut(() => {

        })
        --- clearTimeout() 停止以上方法执行的函数代码
        */
       /* --------------------延时执行------------------ */
        var mytime = setInterval(function() {
            getTime();
        },500);

        function getTime(){
            var d = new Date();
            var t = d.toLocaleTimeString();
            document.getElementById("localtime").innerHTML = t;
        }
        function stopTime(){
            //停止时间更新
            clearInterval(mytime);
        }
        /* --------------------自己调用自己执行------------------ */
        var win;
        function myWin(){
            alert("hello");
            win = setTimeout(function(){
                myWin()},3000);
        }
        function stopWin(){
            clearTimeout(win);
        }

    </script>
    
</body>
</html>